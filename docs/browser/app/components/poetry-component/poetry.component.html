<div class="poetry-component">

  <!-- Header-->
  <header class="poetry-header">
    <h2>Fetch Poems by Author or Title</h2>
  </header>

  <!-- Message Section: Back button, Error Message, or Search prompt -->
  <section class="message-section">
    <ng-container *ngIf="!isSearchView">
      <!-- Back button container appears when not in search view -->
      <div class="back-button-container">
        <button (click)="handleBack()">Back</button>
      </div>
    </ng-container>

    <ng-container *ngIf="errorMessage?.trim()">
      <!-- Show error message if both author and title are empty -->
      <p class="error-message">{{ errorMessage }}</p>
    </ng-container>

    <ng-container *ngIf="isSearchView && !errorMessage?.trim()">
      <!-- Default search prompt when no error and search view is active -->
      <h1 class="search-message">Search by Poem or Poet or both:</h1>
    </ng-container>
  </section>

  <!-- Search Box -->
  <section *ngIf="isSearchView" class="search-view" >
    <app-search-form (search)="fetchByAuthorAndTitle($event.author, $event.title)"></app-search-form>
  </section>

  <!-- Poem Selection-->
  <section *ngIf="!selectedPoem && !isSearchView" class="poem-view scrollable-content">
    <app-poetry-list [poems]="poems" (selectPoem)="selectPoem($event)"></app-poetry-list>
  </section>

  <!-- Poem View -->
  <section *ngIf="selectedPoem" class="poem-view">
    <app-poem-detail [poem]="selectedPoem">></app-poem-detail>
  </section>

</div>
